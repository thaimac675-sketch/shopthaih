<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Liên Quân</title>
    <link rel="stylesheet" href="style.css">
<header>
    <div class="logo">★ SHOP THAIPP ★</div>
    <div id="userHeader" class="user">
        <a href="login.html">Đăng nhập</a> | <a href="naptien.html">Nạp tiền</a>
    </div>
</header>

<script>
    // Tự động kiểm tra số dư khi mở trang web
    function checkUser() {
        const loggedUser = localStorage.getItem("currentUser"); // Lấy tên user đang đăng nhập
        const userHeader = document.getElementById("userHeader");

        if (loggedUser) {
            // Lấy số dư từ Admin đã chỉnh
            const balance = localStorage.getItem("balance_" + loggedUser) || 0;
            userHeader.innerHTML = `
                <span style="color:#e11d48; font-weight:bold;">${loggedUser}</span> | 
                <span style="color:#22c55e; font-weight:bold;">Số dư: ${parseInt(balance).toLocaleString()}đ</span> | 
                <a href="#" onclick="logout()" style="color:#666; font-size:12px;">Thoát</a>
            `;
        }
    }

    function logout() {
        localStorage.removeItem("currentUser");
        location.reload();
    }

    window.onload = checkUser;
</script>

<nav>
    <button onclick="filter('all')">Tất cả</button>
</nav>

<section class="products">
    <div class="card vq">
        <img src="anh1.jpg" alt="Acc 1M">
        <div class="card-body">
            <h3>ACC LQ DƯỚI 2M</h3>
            <p>Acc Vip <span class="highlight">Giá Tận Gốc</span></p>
            <div class="discount-tag">Siêu giảm giá tới 50%</div>
            <button onclick="buy()">Mua ngay</button>
        </div>
    </div>

    <div class="card 50">
        <img src="anh2.jpg" alt="Acc 2M">
        <div class="card-body">
            <h3>ACC LQ DƯỚI 1M</h3>
            <p>Acc Vip <span class="highlight">Giá Tận Gốc</span></p>
            <div class="discount-tag">Siêu giảm giá tới 50%</div>
            <button onclick="buy()">Mua ngay</button>
        </div>
    </div>

    <div class="card 250k">
        <img src="anh3.jpg" alt="Acc 250k">
        <div class="card-body">
            <h3>ACC LQ DƯỚI 250K</h3>
            <p>Acc Ngon <span class="highlight">Giá Rẻ</span></p>
            <div class="discount-tag">Giảm giá 30%</div>
            <button onclick="buy()">Mua ngay</button>
        </div>
    </div>

    <div class="card 150k">
        <img src="anh4.jpg" alt="Acc 150k">
        <div class="card-body">
            <h3>ACC LQ DƯỚI 150K</h3>
            <p>Acc Giá <span class="highlight">Học Sinh</span></p>
            <div class="discount-tag">Đồng giá 150k</div>
            <button onclick="buy()">Mua ngay</button>
        </div>
    </div>

    <div class="card 50">
        <img src="anh5.jpg" alt="Acc 50k">
        <div class="card-body">
            <h3>ACC LQ DƯỚI 50K</h3>
            <p>Acc <span class="highlight">Siêu Rẻ</span></p>
            <div class="discount-tag">Xả kho 50k</div>
            <button onclick="buy()">Mua ngay</button>
        </div>
    </div>
</section>

<script src="script.js"></script>
    <div id="customAlert" class="modal">
  <div class="modal-content">
    <h2 style="color: #e11d48;">SHOP</h2>
    <p>Vui lòng đăng nhập và nạp tiền để mua acc.</p>
    <button onclick="closeAlert()">Đóng</button>
  </div>
</div>
    <div id="customModal" class="modal-overlay">
    <div class="modal-box">
        <h2 id="modalTitle">SHOP THAIPP</h2>
        <p id="modalMessage">Nội dung thông báo ở đây.</p>
        <div class="modal-buttons">
            <button onclick="closeModal()" class="btn-close">Đóng</button>
            <button id="modalAction" class="btn-action" style="display:none;">Đăng nhập</button>
        </div>
    </div>
</div>
</body>
</html>
<script>
    function checkUser() {
        const loggedUser = localStorage.getItem("currentUser");
        const userHeader = document.querySelector(".user");

        if (loggedUser) {
            let balance = localStorage.getItem("balance_" + loggedUser) || "0";
            userHeader.innerHTML = `
                <b style="color:#e11d48;">${loggedUser}</b> | 
                <b style="color:#22c55e;">${parseInt(balance).toLocaleString()}đ</b> | 
                <a href="naptien.html" style="color:#2563eb;">Nạp</a> |
                <a href="#" onclick="logout()" style="color:#666; font-size:12px;">Thoát</a>
            `;
        }
    }

    function logout() {
        localStorage.removeItem("currentUser");
        location.reload();
    }

    // Kích hoạt kiểm tra khi trang tải xong
    window.onload = checkUser;
</script>
